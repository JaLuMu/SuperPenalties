plugins {
    id "org.jetbrains.kotlin.jvm" version "1.5.31"
    id 'com.github.johnrengelman.shadow' version '6.0.0'
}

assemble.dependsOn shadowJar

apply plugin: 'java'
apply plugin: 'kotlin'

group = 'de.jalumu'
version = '1.0-SNAPSHOT'

sourceCompatibility = '1.8'
targetCompatibility = '1.8'

repositories {
    mavenCentral()
    maven {
        name = 'sonatype'
        url = 'https://oss.sonatype.org/content/groups/public/'
    }
}

dependencies {

    //CORE LIBRARIES
    compileOnly 'net.md-5:bungeecord-api:1.16-R0.4'
    implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.5.31'

    //DATABASE DRIVERS
    implementation group: 'org.mongodb', name: 'mongo-java-driver', version: '3.12.10'

    //METRICS
    implementation 'org.bstats:bstats-bungeecord:2.2.1'

    //OTHER STUFF
    implementation group: 'org.json', name: 'json', version: '20090211'
}

shadowJar {
    // Relocating BStats
    relocate 'org.bstats', 'de.jalumu.superpenalties.metrics'
}

compileKotlin {
    kotlinOptions.jvmTarget = "1.8"
}
compileTestKotlin {
    kotlinOptions.jvmTarget = "1.8"
}
